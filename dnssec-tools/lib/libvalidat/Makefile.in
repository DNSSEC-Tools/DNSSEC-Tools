# the resulting Makefile is built from  TOPSRCDIR/Makefile.top and Makefile.in
ARFLAGS	   = cruv
OBJS	   = validat.o val_parse.o val_print.o
LOBJS	   = validat.lo val_parse.lo val_print.lo
SRCS	   = validat.c val_parse.c val_print.c
LDFLAGS_EX = -lresolv

VALLIB=libvalidat.la
all: libvalidat.la validate

$(VALLIB): $(LOBJS)
	$(LIBTOOLLD) -o $@ $(OBJS)

validate: main.lo $(VALLIB)
	$(LIBTOOLLD) main.lo -o validate $(VALLIB) $(LDFLAGS) 

install:
	$(LIBTOOLIN) $(VALLIB) $(libdir)
	$(LIBTOOLFN)
	$(INSTALL) validat.h     $(includedir)

clean:
	rm -rf *.la *.lo .libs *.o *.so *.a validate

