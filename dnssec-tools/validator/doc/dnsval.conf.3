.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.14
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "DNSVAL.CONF 1"
.TH DNSVAL.CONF 1 "2007-09-10" "perl v5.8.6" "User Contributed Perl Documentation"
.SH "NAME"
/etc/dnsval.conf, /etc/resolv.conf, /etc/root.hints \- Configuration policy for the DNSSEC validator library libval(3).
val_add_valpolicy \- Dynamically add a new policy to the validator context
val_remove_valpolicy \- Remove a dynamically added policy from the validator context
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
.Vb 3
\&    int val_add_valpolicy(val_context_t *context, const char *keyword,
\&                    char *zone, char *value, long ttl,
\&                    val_policy_entry_t **pol);
.Ve
.PP
.Vb 2
\&    int val_remove_valpolicy(val_context_t *context,
\&                    val_policy_entry_t *pol);
.Ve
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
Applications can use local policy to influence the validation outcome.
Examples of local policy elements include trust anchors for different zones
and untrusted algorithms for cryptographic keys and hashes.  Local policy
may vary for different applications and operating scenarios.
.PP
The \fI\fIval_add_valpolicy()\fI\fR function can be used to dynamically add a new policy
for a given context.  The \fIkeyword\fR, \fIzone\fR and \fIvalue\fR arguments are
identical to \fI\s-1KEYWORD\s0\fR, \fIzone\fR and \fIadditional-data\fR defined below for
\&\fB/etc/dnsval.conf\fR.  \fIttl\fR specifies the duration in seconds for which the
policy is kept in effect.  A value of \fB\-1\fR adds to policy to the context
indefinitely.  A handle to the newly added policy is returned in \fI*pol\fR.
This structure is opaque to the applications; applications must not modify the
contents of the memory returned in \fI*pol\fR.
.PP
Applications may also revoke the effects of a newly added policy, \fIpol\fR,
before the expiry of its timeout interval using the
\&\fI\fIval_remove_valpolicy()\fI\fR policy.
.PP
The validator library reads configuration information from three separate
files, \fB/etc/resolv.conf\fR, \fB/etc/root.hints\fR, and \fB/etc/dnsval.conf\fR.
.IP "/etc/resolv.conf" 4
.IX Item "/etc/resolv.conf"
The \fInameserver\fR and \fIsearch\fR options are supported in the \fBresolv.conf\fR file.
.Sp
This \fInameserver\fR option is used to specify the \s-1IP\s0 address of the name server to which
queries must be sent by default.  For example,
.Sp
.Vb 1
\&    nameserver 10.0.0.1
.Ve
.Sp
This \fIsearch\fR option is used to specify the search path for issuing queries.
For example,
.Sp
.Vb 1
\&    search test.dnssec-tools.org dnssec-tools.org
.Ve
.Sp
If the \fB/etc/resolv.conf\fR file contains no name servers, the validator
tries to recursively answer the query using information present
in \fB/etc/root.hints\fR.
.IP "/etc/root.hints" 4
.IX Item "/etc/root.hints"
The \fB/etc/root.hints\fR file contains bootstrapping information for the
resolver while it attempts to recursively answer queries.  The contents of
this file may be generated by the following command:
.Sp
.Vb 1
\&    dig @e.root-servers.net . ns > root.hints
.Ve
.IP "/etc/dnsval.conf" 4
.IX Item "/etc/dnsval.conf"
The \fB/etc/dnsval.conf\fR file contains the validator policy.  It consists of
a sequence of the following \*(L"policy\-fragments\*(R":
.Sp
.Vb 1
\&    <label> <KEYWORD> <zone> <additional-data> [<zone> <additional-data> ];
.Ve
.Sp
Policies are identified by simple text strings called
labels, which must be unique within the configuration system.  For example,
\&\*(L"browser\*(R" could be used as the label that defines the validator policy for all
web-browsers in a system.  A label value of \*(L":\*(R" identifies the default policy,
the policy that is used when a \s-1NULL\s0 context is specified as the \fIctx\fR
parameter for interfaces listed in \fI\fIlibval\fI\|(3)\fR,
\&\fI\fIval_getaddrinfo\fI\|(3)\fR, and \fI\fIval_gethostbyname\fI\|(3)\fR.  The default policy is
unique within the configuration system.
.Sp
\&\fI\s-1KEYWORD\s0\fR is the specific policy component that is specified within the
policy fragment.  The format of \fIadditional-data\fR depends on the
keyword specified.
.Sp
If multiple policy fragments are defined for the same label and keyword
combination then the last definition in the file is used.
.Sp
The following keywords are defined for \fBdnsval.conf\fR:
.RS 4
.IP "trust-anchor" 4
.IX Item "trust-anchor"
Specifies the trust anchors for a sequence of zones.  The additional
data portion for this keyword is a quoted string containing the
\&\s-1RDATA\s0 portion for the trust anchor's \s-1DNSKEY\s0.
.IP "zone-security-expectation" 4
.IX Item "zone-security-expectation"
Specifies the local security expectation for a zone.  The additional
data portion for this keyword is the zone's trust status \-
ignore, validate, trusted, or untrusted.  The default zone security
expectation is validate.
.IP "provably-unsecure-status" 4
.IX Item "provably-unsecure-status"
Specifies if the provably unsecure condition must be considered as
trusted or not.  The additional data portion for this keyword is the
trust status for the provably unsecure condition for a given zone \-
trusted, or untrusted.  The default provably unsecure status is trusted.
.IP "clock-skew" 4
.IX Item "clock-skew"
Specifies how many seconds of clock skew is acceptable when verifying
signatures for data from a given zone.  The additional data portion
for this keyword is the number of seconds of clock skew that is
acceptable.  A value of \-1 completely ignores inception and expiration times
on signatures for data from a given zone.  The default clock skew is 0.
.IP "nsec3\-max\-iter [only if \s-1LIBVAL_NSEC3\s0 is enabled]" 4
.IX Item "nsec3-max-iter [only if LIBVAL_NSEC3 is enabled]"
Specifies the maximum number of iterations allowable while computing
the \s-1NSEC3\s0 hash for a zone.  A value of \-1 does not place a maximum limit on
the number of iterations.  This is also the default setting for a zone.
.IP "dlv-trust-points [only if \s-1LIBVAL_DLV\s0 is enabled]" 4
.IX Item "dlv-trust-points [only if LIBVAL_DLV is enabled]"
Specifies the \s-1DLV\s0 tree for the target zone.
.RE
.RS 4
.RE
.SH "EXAMPLE"
.IX Header "EXAMPLE"
The \fB/etc/dnsval.conf\fR configuration file might appear as follows:
.IP ": trust-anchor" 4
.IX Item ": trust-anchor"
.RS 4
.PD 0
.IP "dnssec\-tools.org." 4
.IX Item "dnssec-tools.org."
.RS 4
.ie n .IP """257 3 5 AQO8XS4y9r77X9SHBmrxMoJf1Pf9AT9Mr/L5BBGtO9/e9f/zl4FFgM2l B6M2XEm6mp6mit4tzpB/sAEQw1McYz6bJdKkTiqtuWTCfDmgQhI6/Ha0 EfGPNSqnY 99FmbSeWNIRaa4fgSCVFhvbrYq1nXkNVyQPeEVHkoDNCAlr qOA3lw==""" 4
.el .IP "``257 3 5 AQO8XS4y9r77X9SHBmrxMoJf1Pf9AT9Mr/L5BBGtO9/e9f/zl4FFgM2l B6M2XEm6mp6mit4tzpB/sAEQw1McYz6bJdKkTiqtuWTCfDmgQhI6/Ha0 EfGPNSqnY 99FmbSeWNIRaa4fgSCVFhvbrYq1nXkNVyQPeEVHkoDNCAlr qOA3lw==''" 4
.IX Item "257 3 5 AQO8XS4y9r77X9SHBmrxMoJf1Pf9AT9Mr/L5BBGtO9/e9f/zl4FFgM2l B6M2XEm6mp6mit4tzpB/sAEQw1McYz6bJdKkTiqtuWTCfDmgQhI6/Ha0 EfGPNSqnY 99FmbSeWNIRaa4fgSCVFhvbrYq1nXkNVyQPeEVHkoDNCAlr qOA3lw=="
.RE
.RS 4
.RE
.IP "netsec.tislabs.com." 4
.IX Item "netsec.tislabs.com."
.RS 4
.ie n .IP """257 3 5 AQO8XS4y9r77X9SHBmrxMoJf1Pf9AT9Mr/L5BBGtO9/e9f/zl4FFgM2l B6M2XEm6mp6mit4tzpB/sAEQw1McYz6bJdKkTiqtuWTCfDmgQhI6/Ha0 EfGPNSqnY 99FmbSeWNIRaa4fgSCVFhvbrYq1nXkNVyQPeEVHkoDNCAlr qOA3lw==""" 4
.el .IP "``257 3 5 AQO8XS4y9r77X9SHBmrxMoJf1Pf9AT9Mr/L5BBGtO9/e9f/zl4FFgM2l B6M2XEm6mp6mit4tzpB/sAEQw1McYz6bJdKkTiqtuWTCfDmgQhI6/Ha0 EfGPNSqnY 99FmbSeWNIRaa4fgSCVFhvbrYq1nXkNVyQPeEVHkoDNCAlr qOA3lw==''" 4
.IX Item "257 3 5 AQO8XS4y9r77X9SHBmrxMoJf1Pf9AT9Mr/L5BBGtO9/e9f/zl4FFgM2l B6M2XEm6mp6mit4tzpB/sAEQw1McYz6bJdKkTiqtuWTCfDmgQhI6/Ha0 EfGPNSqnY 99FmbSeWNIRaa4fgSCVFhvbrYq1nXkNVyQPeEVHkoDNCAlr qOA3lw=="
.RE
.RS 4
.RE
.IP ";" 4
.RE
.RS 4
.RE
.IP "browser zone-security-expectation" 4
.IX Item "browser zone-security-expectation"
.RS 4
.IP "org ignore" 4
.IX Item "org ignore"
.IP "net ignore" 4
.IX Item "net ignore"
.IP "dnssec\-tools.org validate" 4
.IX Item "dnssec-tools.org validate"
.IP "com ignore" 4
.IX Item "com ignore"
.IP ";" 4
.RE
.RS 4
.RE
.IP ": provably-unsecure-status" 4
.IX Item ": provably-unsecure-status"
.RS 4
.IP ". trusted" 4
.IX Item "trusted"
.IP "net untrusted" 4
.IX Item "net untrusted"
.IP ";" 4
.RE
.RS 4
.RE
.IP "mta clock-skew" 4
.IX Item "mta clock-skew"
.RS 4
.IP ". 0" 4
.IP "fruits.netsec.tislabs.com. \-1" 4
.IX Item "fruits.netsec.tislabs.com. -1"
.IP ";" 4
.RE
.RS 4
.RE
.IP ": nsec3\-max\-iter" 4
.IX Item ": nsec3-max-iter"
.RS 4
.IP ". 30" 4
.IX Item "30"
.IP ";" 4
.RE
.RS 4
.RE
.IP "browser dlv-trust-points" 4
.IX Item "browser dlv-trust-points"
.RS 4
.IP ". dlv.isc.org" 4
.IX Item "dlv.isc.org"
.IP ";" 4
.RE
.RS 4
.RE
.PD
.SH "FILES"
.IX Header "FILES"
/etc/resolv.conf
.PP
/etc/root.hints
.PP
/etc/dnsval.conf	The \fIlibval\fR\|(3) configuration files.
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
Copyright 2004\-2007 \s-1SPARTA\s0, Inc.  All rights reserved.
See the \s-1COPYING\s0 file included with the dnssec-tools package for details.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fB\f(BIlibval\fB\|(3)\fR
.PP
http://dnssec\-tools.sourceforge.net
