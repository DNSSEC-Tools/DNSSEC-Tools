prefix=@prefix@
exec_prefix=@exec_prefix@
sysconfdir=@sysconfdir@
bindir=@bindir@
sbindir=@sbindir@
libdir=@libdir@
datarootdir=@datarootdir@
datadir=@datadir@
includedir=@includedir@
mandir=@mandir@
top_srcdir=@top_srcdir@

export BUILDDIR=@abs_top_builddir@
PERLDIRS=tools/modules tools/donuts tools/mapper tools/scripts \
         tools/dnspktflow tools/maketestzone tools/etc tools/drawvalmap

QUIET=@
# QUIET=''


TEST_FILES=t/*.t


all :: authtest


authtest : $(TEST_FILES)
	$(QUIET) for i in $(TEST_FILES) ; do \
	  perl $$i ;               \
        done

verbose : $(TEST_FILES)
	$(QUIET) for i in $(TEST_FILES) ; do \
	  perl $$i -v;               \
        done

test : trustman

zonesigner : 
	perl t/010zonesigner.t

donuts : 
	perl t/020donuts.t

donutsd : 
	perl t/025donutsd.t

trustman :
	perl t/030trustman.t

rollerd : 
	perl t/040rollerd.t

clean : 
	rm -rf zones trustman donuts donutsd rollerd

.PHONY : zonesigner donuts donutsd trustman rollerd clean
