# Copyright 2004-2005 SPARTA, Inc.  All rights reserved.
# See the COPYING file included with the dnssec-tools package for details.


			     DNSSEC-Tools
			Is your domain secure?


This directory contains a patch to apply to the mozilla code for
enabling DNSSEC checking of URL DNS names.  It is in alpha/beta form
with a lot of debugging but should be usable in testing environments.

This patch will likely break the mozilla source if you don't turn on
the dnssec functionality when you compile.  It has not been well
tested for the optionality flags.

1) Install the dnssec-tools package first (we need a library)

2) Apply the patch found in this directory to the mozilla source tree
   (1.7.10 is the last tested).  The configure portion of the patch
   will probably fail, so run 'autoconf' (version 2.13 or so, not
   2.5x) after you apply the patch.

   [Note: if building on a Fedora Core or other system, you might
   consider starting with something like a source RPM which is known
   to compile and adding the DNSSEC patch to that if you can not get a
   normal mozilla tar ball to build by itself.  EG, This is what the
   author of the DNSSEC patch had to resort to after mozilla no longer
   compiled cleanly on a FC4 system even without the DNSSEC patch.]

3) Build mozilla adding in the --with-system-val flag to their
   configure script.  If you're using a ~/.mozconfig file then add
   this line to it:

     ac_add_options --with-system-val

   After which the following builds firefox with the dnssec patch applied:

     make -f client.mk build

