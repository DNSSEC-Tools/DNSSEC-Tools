<html>

<head>
<title>Owl Monitoring System -- Sensor Installation Manual -- Sensor Queries</title>
</head>

<body>

<p>

<center><h2>Owl Monitoring System</h2></center>
<center><h2>Sensor Installation Manual</h2></center>

<p>

<!*****************************************************************************>

<a name="3."></a>
<h3>3. An Interlude on Sensor Queries</h3>

<p>

Before running your Owl Monitoring System, you must consider a number of
questions.  How many Owl sensors will be providing data to the Owl manager?
How many queries will the sensors be performing?  What queries will the
sensors be performing?  Will each sensor be performing the same queries?
Will the sensor be providing "heartbeat" information to the manager?
These questions are important for the sensor administrator, but they are
critical for the manager administrator.

<p>

A query consists of three parts:  a nameserver, a target host, and a query
type.  Responses to each query will be kept in their own datafile.  The
amount of data generated by each sensor will depend on the number of queries
and the frequency with which the queries are performed.

<p>

The sensors will have to gather the data and more queries will result in more
data that will be collected.  The data will all have to be transferred from
the sensor to the manager.  If the manager is configured for graphing, then
data from each query will be stored in its own database.  These databases can
be quite large, so the manager host must have a good amount of available disk
space.

<p>

The administrators of an Owl sensor and the Owl manager (if they are different
people) must coordinate the queries that the sensor will be performing.  The
manager's administrator can request that a set of queries be performed, but it
is up to the sensor's administrator to actually configure the sensor for the
queries.  The manager is effectively at the mercy of the sensor.

<p>

Sensor data filenames contain metadata about the sensor data contained
therein.  Therefore, the filenames will reflect the queries that generated
the files.  The fields are separated by commas and have this format:

<pre>
        121129.1701,seattle-sensor,example.com,a.root-servers.net,A.dns
        121129.1701,seattle-sensor,example.com,m.root-servers.net,A.dns
        121129.1701,seattle-sensor,example.com,m.root-servers.net,NS.dns
        121129.1701,portland-sensor,example.com,a.root-servers.net,A.dns
</pre>

<p>

Breaking out the fields of the last example above gives this table:

<p>

<table>

<tr>
<td valign=top width=50>&nbsp;
<td valign=top><b>Field</b>
<td valign=top width=20>&nbsp;
<td valign=top><b>Purpose</b>
<td valign=top width=20>&nbsp;
<td valign=top><b>Example</b>

<tr>
<td valign=top>&nbsp;
<td valign=top>Timestamp
<td valign=top>&nbsp;
<td valign=top>File creation timestamp; (YYMMDD.hhmm)
<td valign=top>&nbsp;
<td valign=top>121129.1701

<tr>
<td valign=top>&nbsp;
<td valign=top>Sensor Name
<td valign=top>&nbsp;
<td valign=top>Name of sensor that recorded data
<td valign=top>&nbsp;
<td valign=top>portland-sensor

<tr>
<td valign=top>&nbsp;
<td valign=top>Target Name
<td valign=top>&nbsp;
<td valign=top>Host whose name was target of DNS lookups
<td valign=top>&nbsp;
<td valign=top>example.com

<tr>
<td valign=top>&nbsp;
<td valign=top>Nameserver Name
<td valign=top>&nbsp;
<td valign=top>Name of queried nameserver
<td valign=top>&nbsp;
<td valign=top>a.root-servers.net

<tr>
<td valign=top>&nbsp;
<td valign=top>Query Type
<td valign=top>&nbsp;
<td valign=top>Type of DNS query
<td valign=top>&nbsp;
<td valign=top>A

<tr>
<td valign=top>&nbsp;
<td valign=top>File suffix
<td valign=top>&nbsp;
<td valign=top>File suffix
<td valign=top>&nbsp;
<td valign=top>.dns

</table>

<p>

<!*****************************************************************************>

<br><br>

<center>

<hr width="70%">

<p>

<!-------------------------------------->
<table width="100%">
<tr>
<td width="33%" align=left>
<a href="install-sensor-2-installation.html">Section 2.<br>Installation</a>
<td width="33%" align=center>
<a href="install-sensor.html">Owl Monitoring System<br>Sensor Installation Guide</a>
<td width="33%" align=right>
<a href="install-sensor-4-adding-sensor.html">Section 4.<br>Adding Sensors</a>
</tr>
</table>
<p>
<!-------------------------------------->

<a href="http:www.dnssec-tools.org">DNSSEC Tools</a>

</center>

<p>

</body>
</html>
