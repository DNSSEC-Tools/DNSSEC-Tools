<html>

<head>
<title>Owl Monitoring System -- Installation Manual -- Adding Queries</title>
</head>

<body>

<p>

<center><h2>Owl Monitoring System</h2></center>
<center><h2>Installation Manual</h2></center>

<p>

<!*****************************************************************************>

<a name="6."></a>
<h3>6. Adding New Queries to Existing Owl Sensors</h3>

<p>

<!------------------------------------------------------------>

<table align=right width="30%">

<tr><td>&nbsp;<td><a href="install-6-adding-queries.html#6.1">6.1</a><td>&nbsp;<td>Owl Sensor Actions</tr>
<tr><td>&nbsp;<td><a href="install-6-adding-queries.html#6.2">6.2</a><td>&nbsp;<td>Owl Manager Actions</tr>
<tr><td width="10%">&nbsp;<td>&nbsp;<td>&nbsp;<td>&nbsp;</tr>

</table>

<p>

<!------------------------------------------------------------>

From time to time, you might decide to change the queries being performed
by the Owl sensors.  This could be adding new queries to some or all of the
sensors, stopping some of the queries from being performed, or modifying
existing queries.  Regardless of the changes, there are actions that must
be taken on the Owl manager and all affected Owl sensors.

<p>

<!------------------------------------------------------->

<a name="6.1"></a>
<h3>6.1 Owl Sensor Actions</h3>

<p>

It is relatively painless to modify queries for a sensor.  The following
actions must be performed:

<p>

<ol>

<li>The query entries in the Owl configuration file must be changed to
reflect the new set of queries that should be performed.  Add new <i>query</i>
entries to add new queries; delete or change existing <i>query</i> entries
to remove or modify current queries.
See <a href="install-4-adding-sensor.html#4.1.4.">section 4.1.4</a> for
information about query entries.

<p>

<li>Restart <b>owl-dnstimer</b>.  

<p>

</ol>

<p>

<!------------------------------------------------------->

<a name="6.2"></a>
<h3>6.2 Owl Manager Actions</h3>

<p>

Essentially, adding new queries to the Owl manager is a matter of informing
Nagios that it should report on new data.  This is accomplished by adding new
Nagios objects for the sensor.  The following actions must be performed:

<p>

<ol>

<li>Wait for the query changes to take place in the Owl sensor.  You will
know this has happened when new sensor data files start appearing in the
sensor's data directory, if you are adding queries, or fewer data files
are arriving, if you are removing queries.

<p>

<li>Build new Nagios objects for the new queries' data files.  This may be
most simply accomplished by rerunning <b>owl-newsensor</b> for the affected
sensor.  This will rebuild <u>all</u> the sensor's Nagios objects, so you
must take this into account if you have made manual changes to the object
file.  See <a href="install-4-adding-sensor.html#4.2.7.">section 4.2.7</a>
for more information on creating new Nagios objects.

<p>

<li>Perform the actions in
<a href="install-4-adding-sensor.html#4.2.9.">section 4.2.9</a>
in order to restart Nagios.

<p>

<li>With  sensor query data arriving, you might want to consider modifying
your graphs to display the changes in sensor data.  See
><a href="install-5-define-graphs.html#5.">section 5</a>
for information on defining graphs.

<p>

</ol>

<p>

<!*****************************************************************************>

<br><br>

<center>

<hr width="70%">

<p>

<!-------------------------------------->
<table width="100%">
<tr>
<td width="33%" align=left>
<a href="install-5-define-graphs.html">Section 5.<br>Defining Graphs</a>
<td width="33%" align=center>
<a href="install-0-intro.html">Owl Monitoring System -- Installation Guide</a>
<td width="33%" align=right>
<a href="install-7-commands.html">Section 7.<br>Owl Commands</a>
</tr>
</table>
<p>
<!-------------------------------------->

<a href="http:www.dnssec-tools.org">DNSSEC Tools</a>

</center>

<p>

</body>
</html>
