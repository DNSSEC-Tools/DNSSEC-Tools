<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a>
    <ul>
      <li><a href="#Usage">Usage:</a></li>
      <li><a href="#Validation-Policy">Validation Policy:</a></li>
      <li><a href="#Logging">Logging:</a></li>
    </ul>
  </li>
  <li><a href="#NOTES">NOTES</a>
    <ul>
      <li><a href="#setuid-setgid-programs">setuid/setgid programs</a></li>
    </ul>
  </li>
  <li><a href="#COPYRIGHT">COPYRIGHT</a></li>
  <li><a href="#AUTHORS">AUTHORS</a></li>
  <li><a href="#SEE-ALSO">SEE ALSO</a></li>
</ul>

<h1 id="NAME">NAME</h1>

<pre><code>                      The Validator Shim Library</code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>The validator shim library (<i>libval_shim.so</i>) is a shared library designed to be dynamically loaded using the &#39;LD_PRELOAD&#39; mechanism (<i>ld.so(8)</i>) supported on linux and various other unix-like platforms. The shim library implements wrappers for a number of DNS related functions and in turn calls equivalent DNSSEC-aware validating functions from <i>libval(3)</i>, mapping the results to return codes recognized by the original functions. In this way a wide variety of applications can be made DNSSEC aware without code changes and recompilation.</p>

<p>The method of mapping return codes assumes that any &#39;untrusted&#39; or failure result from the <i>libval(3)</i> function is reflected as a failure to the original calling function.</p>

<h2 id="Usage"><i>Usage:</i></h2>

<p>To load the library set LD_PRELOAD variable within the environment of the the target application prior to execution:</p>

<h2 id="Validation-Policy"><i>Validation Policy:</i></h2>

<p>The validator shim library will create a policy context and cache it for all subsequent <i>libval(3)</i> calls. A <i>NULL</i> policy label will be passed to create the context. The policy is chosen according to rules defined for <i>libval(3)</i>.</p>

<p>See <i>dnsval.conf(1)</i> for information on policy labels and definition.</p>

<h2 id="Logging"><i>Logging:</i></h2>

<p>Logging for the <i>libval(3)</i> functions may be enabled in the shim library by setting an environment variable.</p>

<p>See <i>dt-validate(1)</i> for specifics.</p>

<h1 id="NOTES">NOTES</h1>

<h2 id="setuid-setgid-programs">setuid/setgid programs</h2>

<p>setuid and setgid root programs (e.g., <i>ping(8)</i>) do not honor the LD_PRELOAD setting. These application may still use the LD_PRELOAD mechanism when run directly from a root shell.</p>

<h1 id="COPYRIGHT">COPYRIGHT</h1>

<p>Copyright 2004-2013 SPARTA, Inc. All rights reserved. See the COPYING file included with the dnssec-tools package for details.</p>

<h1 id="AUTHORS">AUTHORS</h1>

<p>G. S. Marzot</p>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<p><i>libsres(3)</i>, <i>libval(3)</i>, <i>dnsval.conf(1)</i>, <i>gethostbyname(3)</i></p>

<p><i>gethostbyaddr(3)</i>, <i>getnameinfo(3)</i>, <i>getaddrinfo(3)</i>, <i>res_query(3)</i></p>


</body>

</html>


