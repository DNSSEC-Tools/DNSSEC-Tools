\clearpage

\subsubsection{rollchk}

{\bf NAME}

\cmd{rollchk} - Check a DNSSEC-Tools \struct{rollrec} file for problems and
inconsistencies

{\bf SYNOPSIS}

\begin{verbatim}

  rollchk [-roll | -skip] [-count] [-quiet] [-verbose] [-help] rollrec-file

\end{verbatim}

{\bf DESCRIPTION}

This script checks the \struct{rollrec} file specified by {\it rollrec-file}
for problems and inconsistencies.

Recognized problems include:

\begin{itemize}

\item non-existent rollrec file\verb" "

The specified \struct{rollrec} file does not exist.

\item no zones defined\verb" "

No zones are defined in the specified \struct{rollrec} file.

\item invalid KSK rollover phase\verb" "

A zone has an invalid KSK rollover phase.  These phases may be
0, 1, 2, 3, 4, 5, 6, or 7; any other value is invalid.

\item mismatch in KSK timestamp data\verb" "

A zone's KSK roll-seconds timestamp does not translate into the date stored
in its roll-date string.

\item invalid ZSK rollover phase\verb" "

A zone has an invalid ZSK rollover phase.  These phases may be
0, 1, 2, 3, or 4; any other value is invalid.

\item mismatch in ZSK timestamp data\verb" "

A zone's ZSK roll-seconds timestamp does not translate into the date stored
in its roll-date string.

\item contemporaneous KSK and ZSK rollovers\verb" "

A zone has a KSK rollover occurring at the same time as a ZSK rollover.
A zone may only have one rollover phase be non-zero at a time.

\item in rollover without a phasestart\verb" "

A zone is currently in rollover, but its \struct{rollrec} record does
not have a {\it phasestart} field.

\item empty administrator\verb" "

A zone has an empty administrator field.  This field must contain an
email address.

\item non-existent directory\verb" "

Several checks are made for a zone's directory.  If the zone has a directory
specified, the directory must exist and it must be an actual directory.

\item invalid display flag\verb" "

A zone has an invalid display flag.  This flag may be 0 or 1;
any other value is invalid.

\item non-positive maxttl\verb" "

The maximum TTL value must be greater than zero.

\item zone file checks\verb" "

Several checks are made for a zone's zone file.  The zone file must exist, it
must be a regular file, and it must not be of zero length.

\item keyrec file checks\verb" "

Several checks are made for a zone's \struct{keyrec} file.  The
\struct{keyrec} file must exist, it must be a regular file, and
it must not be of zero length.

\end{itemize}

{\bf OPTIONS}

\begin{description}

\item {\bf -roll}\verb" "

Only display \struct{rollrec}s that are active (``roll'') records.
This option is mutually exclusive of the {\it -skip} option.

\item {\bf -skip}\verb" "

Only display \struct{rollrec}s that are inactive (``skip'') records.
This option is mutually exclusive of the {\it -roll} option.

\item {\bf -count}\verb" "

Display a final count of errors.

\item {\bf -quiet}\verb" "

Do not display messages.  This option supersedes the setting of the
{\it -verbose} option.

\item {\bf -verbose}\verb" "

Display many messages.  This option is subordinate to the {\it -quiet} option.

\item {\bf -help}\verb" "

Display a usage message.

\end{description}

{\bf SEE ALSO}

lsroll(8),
rollerd(8),
rollinit(8)

Net::DNS::SEC::Tools::rollrec.pm(3)

file-rollrec(5)

