<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>keyarch - DNSSEC-Tools daemon to archive old KSK and ZSK keys.</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#options">OPTIONS</a></li>
	<li><a href="#exit_values">EXIT VALUES</a></li>
	<li><a href="#copyright">COPYRIGHT</a></li>
	<li><a href="#author">AUTHOR</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<hr />
<h1><a name="name">NAME</a></h1>
<p>keyarch - DNSSEC-Tools daemon to archive old KSK and ZSK keys.</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
  keyarch [options] &lt;keyrec_file | rollrec_file&gt;</pre>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>The <strong>keyarch</strong> program archives old KSK and ZSK keys.  Keys are considered
old if they are obsolete and are marked as either <em>kskobs</em> or <em>zskobs</em>.
Archived keys are prefixed with the seconds-since-epoch as a means of
distinguishing a zone's keys that have the same five digit number.</p>
<p>If the required file argument is a <em>keyrec</em> file, then expired keys listed
in that file are archived.  If the file argument is a <em>rollrec</em> file, the
<em>keyrec</em> files of the zones in that file are checked for expired keys.</p>
<p>If the <em>-zone</em> option is given, then only obsolete keys belonging to the
specified zone will be archived.</p>
<p>The archive directory is either zone-specific (listed in the zone's <em>keyrec</em>
record in the zone's <em>keyrec</em> file) or the default archive directory given
in the DNSSEC-Tools configuration file.</p>
<p>The count of archived keys is given as the program's exit code.  Error exit
codes are negative.</p>
<p>
</p>
<hr />
<h1><a name="options">OPTIONS</a></h1>
<p>The following options are recognized:</p>
<dl>
<dt><strong><a name="item__2dzone_zone_file"><em>-zone zone_file</em></a></strong>

<dd>
<p>Name of the zone whose KSKs will be archived.  If this is not given, then
all the zones defined in the <em>rollrec</em> file will be checked.</p>
</dd>
</li>
<dt><strong><a name="item__2dkskonly">-kskonly</a></strong>

<dd>
<p>Only archive KSK keys.</p>
</dd>
</li>
<dt><strong><a name="item__2dzskonly">-zskonly</a></strong>

<dd>
<p>Only archive ZSK keys.</p>
</dd>
</li>
<dt><strong><a name="item__2dquiet">-quiet</a></strong>

<dd>
<p>No output will be given.</p>
</dd>
</li>
<dt><strong><a name="item__2dverbose">-verbose</a></strong>

<dd>
<p>Verbose output will be given.</p>
</dd>
</li>
<dt><strong><a name="item__2dhelp">-help</a></strong>

<dd>
<p>Display a usage message.</p>
</dd>
</li>
<dt><strong><a name="item__2dversion">-Version</a></strong>

<dd>
<p>Display the program versions.</p>
</dd>
</li>
</dl>
<p>
</p>
<hr />
<h1><a name="exit_values">EXIT VALUES</a></h1>
<p>On success, <strong>keyarch</strong>'s exit code is the number of keys archived.</p>
<p><strong>keyarch</strong> has a 0 exit code if the help message is given.</p>
<p><strong>keyarch</strong> has a negative exit code if an error is encountered.</p>
<p>
</p>
<hr />
<h1><a name="copyright">COPYRIGHT</a></h1>
<p>Copyright 2007 SPARTA, Inc.  All rights reserved.
See the COPYING file included with the DNSSEC-Tools package for details.</p>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>Wayne Morrison, <a href="mailto:tewok@users.sourceforge.net">tewok@users.sourceforge.net</a></p>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p><strong>rollerd(8)</strong>,
<strong>zonesigner(8)</strong></p>
<p><strong>Net::DNS::SEC::Tools::conf.pm(3)</strong>,
<strong>Net::DNS::SEC::Tools::dnssectools.pm(3)</strong>,
<strong>Net::DNS::SEC::Tools::defaults.pm(3)</strong>,
<strong>Net::DNS::SEC::Tools::keyrec.pm(3)</strong>,
<strong>Net::DNS::SEC::Tools::rollrec.pm(3)</strong></p>
<p><strong>keyrec(5)</strong>,
<strong>rollrec(5)</strong></p>

</body>

</html>
