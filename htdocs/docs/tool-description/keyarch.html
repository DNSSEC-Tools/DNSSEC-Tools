<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>keyarch - DNSSEC-Tools daemon to archive old KSK and ZSK keys</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">


<!-- INDEX BEGIN -->
<div name="index">
<p><a name="__index__"></a></p>

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#options">OPTIONS</a></li>
	<li><a href="#exit_values">EXIT VALUES</a></li>
	<li><a href="#copyright">COPYRIGHT</a></li>
	<li><a href="#author">AUTHOR</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

<p>
</p>
<hr />
<h1><a name="name">NAME</a></h1>
<p>keyarch - DNSSEC-Tools daemon to archive old KSK and ZSK keys</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
  keyarch [options] &lt;keyrec_file | rollrec_file&gt;</pre>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>The <strong>keyarch</strong> program archives old KSK and ZSK keys.  Keys are considered old
if they are revoked or obsolete.  Keys marked as either <em>kskrev</em> or <em>zskrev</em>
are revoked; keys marked as either <em>kskobs</em> or <em>zskobs</em> are obsolete.
Archived keys are prefixed with the seconds-since-epoch as a means of
distinguishing a zone's keys that have the same five digit number.</p>
<p>If the required file argument is a <em>keyrec</em> file, then expired keys listed
in that file are archived.  If the file argument is a <em>rollrec</em> file, the
<em>keyrec</em> files of the zones in that file are checked for expired keys.</p>
<p>If the <strong>-zone</strong> option is given, then only revoked and obsolete keys belonging
to the specified zone will be archived.</p>
<p>The archive directory is either zone-specific (listed in the zone's <em>keyrec</em>
record in the zone's <em>keyrec</em> file) or the default archive directory given
in the DNSSEC-Tools configuration file.</p>
<p>The count of archived keys is given as the program's exit code.  Error exit
codes are negative.</p>
<p>
</p>
<hr />
<h1><a name="options">OPTIONS</a></h1>
<p>The following options are recognized:</p>
<dl>
<dt><strong><a name="zone_zone_file" class="item"><strong>-zone zone_file</strong></a></strong></dt>

<dd>
<p>Name of the zone whose KSKs will be archived.  If this is not given, then
all the zones defined in the <em>rollrec</em> file will be checked.</p>
</dd>
<dt><strong><a name="kskonly" class="item"><strong>-kskonly</strong></a></strong></dt>

<dd>
<p>Only archive KSK keys.</p>
</dd>
<dt><strong><a name="zskonly" class="item"><strong>-zskonly</strong></a></strong></dt>

<dd>
<p>Only archive ZSK keys.</p>
</dd>
<dt><strong><a name="dtconfig_config_file" class="item"><strong>-dtconfig config_file</strong></a></strong></dt>

<dd>
<p>Name of an alternate DNSSEC-Tools configuration file to be processed.
If specified, this configuration file is used <em>in place</em> of the normal
DNSSEC-Tools configuration file <strong>not</strong> in addition to it.  Also, it will be
handled prior to <em>keyrec</em> files, <em>rollrec</em> files, and command-line options.</p>
</dd>
<dt><strong><a name="quiet" class="item"><strong>-quiet</strong></a></strong></dt>

<dd>
<p>No output will be given.</p>
</dd>
<dt><strong><a name="verbose" class="item"><strong>-verbose</strong></a></strong></dt>

<dd>
<p>Verbose output will be given.</p>
</dd>
<dt><strong><a name="help" class="item"><strong>-help</strong></a></strong></dt>

<dd>
<p>Display a usage message.</p>
</dd>
<dt><strong><a name="version" class="item"><strong>-Version</strong></a></strong></dt>

<dd>
<p>Displays the version information for <strong>keyarch</strong> and the DNSSEC-Tools package.</p>
</dd>
</dl>
<p>
</p>
<hr />
<h1><a name="exit_values">EXIT VALUES</a></h1>
<p>On success, <strong>keyarch</strong>'s exit code is the number of keys archived.</p>
<p><strong>keyarch</strong> has a 0 exit code if the help message is given.</p>
<p><strong>keyarch</strong> has a negative exit code if an error is encountered.</p>
<p>
</p>
<hr />
<h1><a name="copyright">COPYRIGHT</a></h1>
<p>Copyright 2007-2013 SPARTA, Inc.  All rights reserved.
See the COPYING file included with the DNSSEC-Tools package for details.</p>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>Wayne Morrison, <a href="mailto:tewok@tislabs.com">tewok@tislabs.com</a></p>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p><strong>rollerd(8)</strong>,
<strong>zonesigner(8)</strong></p>
<p><strong>Net::DNS::SEC::Tools::conf.pm(3)</strong>,
<strong>Net::DNS::SEC::Tools::dnssectools.pm(3)</strong>,
<strong>Net::DNS::SEC::Tools::defaults.pm(3)</strong>,
<strong>Net::DNS::SEC::Tools::keyrec.pm(3)</strong>,
<strong>Net::DNS::SEC::Tools::rollrec.pm(3)</strong></p>
<p><strong>keyrec(5)</strong>,
<strong>rollrec(5)</strong></p>

</body>

</html>
