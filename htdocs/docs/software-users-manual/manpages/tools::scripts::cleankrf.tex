\clearpage

\subsubsection{cleankrf}

{\bf NAME}

\cmd{cleankrf} - Clean a DNSSEC-Tools \struct{keyrec} files of old data

{\bf SYNOPSIS}

\begin{verbatim}
  cleankrf [options] <keyrec-files>
\end{verbatim}

{\bf DESCRIPTION}

\cmd{cleankrf} cleans old data out of a set of DNSSEC-Tools \struct{keyrec}
files.  The old data are orphaned signing sets, orphaned keys, and obsolete
keys.

Orphaned signing sets are set \struct{keyrec}s unreferenced by a zone
\struct{keyrec}.

Orphaned keys are KSK key \struct{keyrec}s unreferenced by a zone
\struct{keyrec} and ZSK key \struct{keyrec}s unreferenced by any set
\struct{keyrec}s.

Obsolete keys are ZSK key \struct{keyrec}s with a \var{keyrec\_type} of
{\bf zskobs}.

{\it cleankrf}'s exit code is the count of orphaned and obsolete
\struct{keyrec}s found.

{\bf OPTIONS}

\begin{description}

\item {\bf -count}\verb" "

Display a final count of old \struct{keyrec}s found in the \struct{keyrec}
files.  This option allows the count to be displayed even if the {\it -quiet}
option is given.

\item {\bf -list}\verb" "

The key \struct{keyrec}s are checked for old \struct{keyrec}s, but they are
not removed from the \struct{keyrec} file.  The names of the old
\struct{keyrec}s are displayed.

\item {\bf -rm}\verb" "

Delete the key files, both {\bf .key} and {\bf .private}, from orphaned and
expired \struct{keyrec}s.

\item {\bf -quiet}\verb" "

Display no output.

\item {\bf -verbose}\verb" "

Display output about referenced keys and unreferenced keys.

\item {\bf -help}\verb" "

Display a usage message.

\end{description}

{\bf SEE ALSO}

fixkrf(8),
lskrf(8),
zonesigner(8)

Net::DNS::SEC::Tools::keyrec.pm(3)

file-keyrec.pm(5)

