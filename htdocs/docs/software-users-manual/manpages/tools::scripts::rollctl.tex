\clearpage

\subsubsection{rollctl}

{\bf NAME}

\cmd{rollctl} - Send commands to the DNSSEC-Tools rollover daemon

{\bf SYNOPSIS}

\begin{verbatim}

  rollctl [options]

\end{verbatim}

{\bf DESCRIPTION}

The \cmd{rollctl} command sends commands to the DNSSEC-Tools rollover daemon,
\cmd{rollerd}.  Multiple options may be specified on a single command line and
they will be executed in {\it alphabetical} order.  The exception to this
ordering is that the {\it -shutdown} command will always be executed last.

In most cases, \cmd{rollerd} will send a response to \cmd{rollctl}.
\cmd{rollctl} will print a success or failure message, as appropriate.

{\bf OPTIONS}

The following options are handled by \cmd{rollctl}.

\begin{description}

\item {\bf -display}\verb" "

Starts the rollover status GUI.

\item {\bf -dspub zone}\verb" "

Indicates that {\it zone}'s parent has published a new DS record for {\it zone}.

\item {\bf -dspuball}\verb" "

Indicates that DS records have been published for all zones in phase 6 of
KSK rollover.

\item {\bf -halt}\verb" "

Cleanly halts \cmd{rollerd} execution.

\item {\bf -logfile logfile}\verb" "

Sets the \cmd{rollerd} log file to {\it logfile}.  This must be a valid
logging file, meaning that if {\it logfile} already exists, it must be a
regular file.  The only exceptions to this are if {\it logfile} is
\path{/dev/stdout} or \path{/dev/tty}.

\item {\bf -loglevel loglevel}\verb" "

Sets the \cmd{rollerd} logging level to {\it loglevel}.
This must be one of the valid logging levels defined in
\perlmod{rollmgr.pm(3)}.

\item {\bf -nodisplay}\verb" "

Stops the rollover status GUI.

\item {\bf -rollall}\verb" "

Initiates rollover for all the zones defined in the current \struct{rollrec}
file.

\item {\bf -rollrec rollrec\_file}\verb" "

Sets the \struct{rollrec} file to be processed by \cmd{rollerd} to {\it
rollrec\_file}.

\item {\bf -rollzone zone}\verb" "

Initiates rollover for the zone named by {\it zone}.

\item {\bf -runqueue}\verb" "

Wakes up \cmd{rollerd} and has it run its queue of \struct{rollrec} entries.

\item {\bf -shutdown}\verb" "

Synonym for {\bf -halt}.

\item {\bf -skipall}\verb" "

Stops rollover for all zones in the current \struct{rollrec} file.

\item {\bf -skipzone zone}\verb" "

Stops rollover for the zone named by {\it zone}.

\item {\bf -sleeptime sleeptime}\verb" "

Sets \cmd{rollerd}'s sleep time to {\it sleeptime}.  {\it sleeptime} must be
an integer at least as large as the \var{\$MIN\_SLEEP} value in \cmd{rollerd}.

\item {\bf -status}\verb" "

Has \cmd{rollerd} write several of its operational parameters to its log file.
The parameters are also reported to \cmd{rollctl}, which prints them to the
screen.

\item {\bf -zonelog}\verb" "

Set the logging level for the specified zone.  The new logging level is only
for the current execution of \cmd{rollerd} and is not saved to the active
\struct{rollrec} file.

\item {\bf -zonestatus}\verb" "

Has \cmd{rollerd} write the status of zones in the current \struct{rollrec} file
to the \cmd{rollerd} log file.  The status is also reported to \cmd{rollctl},
which prints it to the screen.

\item {\bf -quiet}\verb" "

Prevents output from being given.  Both error and non-error output is stopped.

\item {\bf -help}\verb" "

Displays a usage message.

\end{description}

{\bf FUTURE}

The following modifications may be made in the future:

\begin{description}

\item command execution order\verb" "

The commands will be executed in the order given on the command line rather
than in alphabetical order.

\end{description}

{\bf SEE ALSO}

Net::DNS::SEC::Tools::rollmgr.pm(3),
Net::DNS::SEC::Tools::rollrec.pm(3)

rollerd(8)

