<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Manual Emergency Rollover of Current and Published ZSKs</title><meta name="generator" content="DocBook XSL Stylesheets V1.70.1"><link rel="start" href="index.html" title="Step-by-Step DNSSEC-Tools Operator Guidance Document"><link rel="up" href="step-emergency-zsk.html" title="Chapter 13. Emergency ZSK Rollover (Published and Current ZSK
    Compromise)"><link rel="prev" href="step-emergency-zsk-dnssec-tools.html" title="Emergency Current and Published ZSK Rollover Using
        DNSSEC-Tools"><link rel="next" href="step-emergency-ksk.html" title="Chapter 14. Emergency KSK Rollover (KSK Compromise)"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Manual Emergency Rollover of Current and Published ZSKs</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="step-emergency-zsk-dnssec-tools.html">Prev</a> </td><th width="60%" align="center">Chapter 13. Emergency ZSK Rollover (Published and Current ZSK
    Compromise)</th><td width="20%" align="right"> <a accesskey="n" href="step-emergency-ksk.html">Next</a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="step-rollover-zsk-emergency-zsks"></a>Manual Emergency Rollover of Current and Published ZSKs</h2></div></div></div><p>The steps given below detail the actions needed for emergency
        rollover of the Current and Published ZSKs.</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="step-rollover-zsk-emergency-zsks-6"></a>Generate New Current and Published ZSKs</h3></div></div></div><p>Follow the steps in Section ??? in order to generate two
            ZSK. Update the Key-Tag Table with the new ZSKs; replace the
            existing set of ZSKs with the new values.</p><div class="table"><a name="id967885"></a><p class="title"><b>Table 13.1. </b></p><div class="table-contents"><table border="1"><colgroup><col><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col></colgroup><tbody><tr><td rowspan="2" align="center">
                                <span class="bold"><strong>Zone</strong></span>
                            </td><td colspan="4" align="center">
                                <span class="bold"><strong>ZSKs</strong></span>
                            </td><td colspan="4" align="center">
                                <span class="bold"><strong>KSKs</strong></span>
                            </td><td rowspan="2" align="center">
                                <span class="bold"><strong>Exp</strong></span>
                            </td></tr><tr><td align="center">Tag</td><td align="center">Size</td><td align="center">Creat</td><td align="center">S</td><td align="center">Tag</td><td align="center">Size</td><td align="center">Creat</td><td align="center">S</td></tr><tr><td rowspan="4" align="center">
                                <span class="emphasis"><em>zone-name</em></span>

                                <span class="emphasis"><em></em></span>

                                <span class="emphasis"><em></em></span>
                            </td><td align="center">
                                <span class="underline">zsktag-cur</span>
                            </td><td align="center">1024</td><td align="center">
                                <span class="underline">date</span>
                            </td><td align="center">C</td><td rowspan="4" align="center">
                                <span class="underline">ksktag</span>

                                <span class="underline"></span>

                                <span class="underline"></span>
                            </td><td rowspan="4" align="center">2048</td><td rowspan="4" align="center">
                                <span class="underline">date</span>

                                <span class="underline"></span>

                                <span class="underline"></span>
                            </td><td rowspan="4" align="center">C</td><td rowspan="2" align="center">
                                <span class="underline">date</span>

                                <span class="underline"></span>

                                <span class="underline"></span>
                            </td></tr><tr><td align="center">
                                <span class="underline">zsktag-pub</span>
                            </td><td align="center">1024</td><td align="center">
                                <span class="underline">date</span>
                            </td><td align="center">P</td></tr><tr><td align="center">
                                <span class="underline">zsktag-cur</span>
                            </td><td align="center">1024</td><td align="center">
                                <span class="underline">date</span>
                            </td><td align="center">C</td><td rowspan="2" align="center">
                                <span class="underline">date</span>
                            </td></tr><tr><td align="center">
                                <span class="underline">zsktag-pub</span>
                            </td><td align="center">1024</td><td align="center">
                                <span class="underline">date</span>
                            </td><td align="center">P</td></tr></tbody></table></div></div><br class="table-break"></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="step-rollover-zsk-emergency-zsks-7"></a>Modify the Zone File</h3></div></div></div><p>The zone file must be modified to account for the key
            changes. The Current and Published ZSKs must be replaced with the
            new keys. Also, the SOA serial number must be incremented so that
            the zone file's new contents will be recognized.</p><p>The required key changes are made by modifying the <span class="bold"><strong>$INCLUDE</strong></span> lines at the end of the file. The
            <span class="bold"><strong>$INCLUDE</strong></span> line for the Current and
            Published ZSKs must be deleted and replaced with <span class="bold"><strong>$INCLUDE</strong></span> lines for the new ZSKs.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="step-rollover-zsk-emergency-zsks-8"></a>Sign the Zone with the KSK and Current ZSK</h3></div></div></div><p>Follow the steps in sections ??? - ??? if the zone does no
            delegation. Follow the steps in sections ??? - ??? if the zone
            does delegation. The ZSK used in the signing process in ??? or ???
            must be the key that is marked as the Current key (C) in the
            Key-Tag table. The KSK used as input to <span class="bold"><strong>dnssec-signzone</strong></span> does not change, so the
            keyset does not change and does not have to be re-sent to the
            parent.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="step-rollover-zsk-emergency-zsks-9"></a>Reload the Zone</h3></div></div></div><p>The <span><strong class="command">rndc</strong></span> will reload the name server
            configuration files and the zone contents. The name server process
            is assumed to be already running.</p><table class="simplelist" border="0" summary="Simple list"><tr><td><span><strong class="command"># rndc reload zone-name</strong></span>
                <strong class="userinput"><code>[ENTER]</code></strong></td></tr><tr><td><span><strong class="command">#</strong></span></td></tr></table></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="step-rollover-zsk-emergency-zsks-10"></a>Dispose of the Old Zone Key</h3></div></div></div><p>Delete the old ZSK's <span class="emphasis"><em>.private</em></span> and
            <span class="emphasis"><em>.key</em></span> files.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="step-emergency-zsk-dnssec-tools.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="step-emergency-zsk.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="step-emergency-ksk.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Emergency Current and Published ZSK Rollover Using
        DNSSEC-Tools </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 14. Emergency KSK Rollover (KSK Compromise)</td></tr></table></div></body></html>
