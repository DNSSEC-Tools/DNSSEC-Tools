<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Configuring and Serving a Signed Zone</title><meta name="generator" content="DocBook XSL Stylesheets V1.70.1"><link rel="start" href="index.html" title="Step-by-Step DNSSEC-Tools Operator Guidance Document"><link rel="up" href="index.html" title="Step-by-Step DNSSEC-Tools Operator Guidance Document"><link rel="prev" href="step-zone-initial-sign.html" title="Initially Signing a Zone"><link rel="next" href="step-zone-check-signature-expiration.html" title="Checking Signature Expiration"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Configuring and Serving a Signed Zone</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="step-zone-initial-sign.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="step-zone-check-signature-expiration.html">Next</a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="step-zone-serve"></a>Configuring and Serving a Signed Zone</h2></div></div></div><p>Several configuration files must be modified in order to serve a
    signed zone. Follow the steps below to configure your name server and have
    it start serving your signed zone.</p><p><code class="filename">named.conf</code> is the name of the configuration
    file used in these examples. The configuration file may vary according to
    the needs of the administrator.</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="serve-add-zone"></a>Add the Signed Zone to the Name Server Configuration
        File</h3></div></div></div><p>The name of the signed zone file must be included in the name
        server's configuration file. If you are signing an existing zone, the
        current zone file in the configuration file must be replaced with the
        signed zone file. If you are signing a new zone, the new signed zone
        file must be added.</p><p>For the zone whose name is <code class="literal">zone-name</code>, do the
        following:</p><p><span><strong class="command"># vi named.conf </strong></span>
        <strong class="userinput"><code>[ENTER]</code></strong></p><p><code class="computeroutput">... zone "zone-name." { type master; file
        "zone-file.signed"; }; ...</code></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="serve-enable-dnssec"></a>Enable DNSSEC</h3></div></div></div><p>Add the <code class="literal">dnssec-enable yes;</code> option to the
        <code class="filename">named.conf</code> file.</p><p><span><strong class="command"># vi
        named.conf</strong></span><strong class="userinput"><code>[ENTER]</code></strong></p><p><code class="computeroutput">... options { ... dnssec-enable yes; };
        ...</code></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="serve-check-configuration-file"></a>Check the Name Server Configuration File for Errors</h3></div></div></div><p>You must ensure that the configuration file modifications were
        performed correctly. The <span><strong class="command">named-checkconf</strong></span> command
        will perform this verification. No output indicates that all is well
        with the zone.</p><p><span><strong class="command"># named-checkconf named.conf</strong></span>
        <strong class="userinput"><code>[ENTER]</code></strong></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="id865905"></a>Reload the Zone</h3></div></div></div><p>The <span><strong class="command">rndc</strong></span> command will reload the name server
  configuration files and zone contents. The name server process is assumed to
  be already running.</p><p><span><strong class="command"># rndc reload zone-name</strong></span> <strong class="userinput"><code>[ENTER]</code></strong></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="server-check-zone-load"></a>Check that the Zone Loaded Properly</h3></div></div></div><p>Confirm that the SOA serial number of the zone corresponds to
        the most recent value.</p><p><span><strong class="command"># dig @server-IP-address SOA zone-name</strong></span>
        <strong class="userinput"><code>[ENTER]</code></strong></p><p><code class="computeroutput">; &lt;&lt;&gt;&gt; DiG 9.3.0 &lt;&lt;&gt;&gt;
        ... ... ;; flags: qr aa rd; QUERY: 1, ANSWER: 1, AUTHORITY: 1,
        ADDITIONAL: 0 ... ;; ANSWER SECTION zone-name 3600 IN SOA servername
        contact ( 2005092101 ; This should be the most recent value. ; This
        value will most likely be different in your zone file. ... )
        ...</code></p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="step-zone-initial-sign.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="step-zone-check-signature-expiration.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Initially Signing a Zone </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Checking Signature Expiration</td></tr></table></div></body></html>
