<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Manual Emergency Published ZSK Rollover</title><meta name="generator" content="DocBook XSL Stylesheets V1.70.1"><link rel="start" href="index.html" title="Step-by-Step DNSSEC-Tools Operator Guidance Document"><link rel="up" href="step-emergency-zsk-published.html" title="Chapter 12. Emergency ZSK Rollover (Published ZSK Compromise)"><link rel="prev" href="step-emergency-zsk-published.html" title="Chapter 12. Emergency ZSK Rollover (Published ZSK Compromise)"><link rel="next" href="step-emergency-zsk.html" title="Chapter 13. Emergency ZSK Rollover (Published and Current ZSK
    Compromise)"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Manual Emergency Published ZSK Rollover</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="step-emergency-zsk-published.html">Prev</a> </td><th width="60%" align="center">Chapter 12. Emergency ZSK Rollover (Published ZSK Compromise)</th><td width="20%" align="right"> <a accesskey="n" href="step-emergency-zsk.html">Next</a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="step-rollover-zsk-emergency-published"></a>Manual Emergency Published ZSK Rollover</h2></div></div></div><p>The DNSSEC-Tools utilities do not currently handle emergency ZSK
        rollover. The steps given below detail the double-signature scheme
        used for KSK rollover.</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="step-rollover-zsk-emergency-published-1"></a>Generate a New ZSK</h3></div></div></div><p>Generate a new ZSK as described in Section ???. Update the
            Key-Tag Table with the new ZSK and set its status to New
            (N).</p><div class="table"><a name="id965605"></a><p class="title"><b>Table 12.1. </b></p><div class="table-contents"><table border="1"><colgroup><col><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col></colgroup><tbody><tr><td rowspan="2" align="center">
                                <span class="bold"><strong>Zone</strong></span>
                            </td><td colspan="4" align="center">
                                <span class="bold"><strong>ZSKs</strong></span>
                            </td><td colspan="4" align="center">
                                <span class="bold"><strong>KSKs</strong></span>
                            </td><td rowspan="2" align="center">
                                <span class="bold"><strong>Exp</strong></span>
                            </td></tr><tr><td align="center">Tag</td><td align="center">Size</td><td align="center">Creat</td><td align="center">S</td><td align="center">Tag</td><td align="center">Size</td><td align="center">Creat</td><td align="center">S</td></tr><tr><td rowspan="3" align="center">
                                <span class="emphasis"><em>zone-name</em></span>

                                <span class="emphasis"><em></em></span>

                                <span class="emphasis"><em></em></span>
                            </td><td align="center">
                                <span class="underline">zsktag-cur</span>
                            </td><td align="center">1024</td><td align="center">
                                <span class="underline">date</span>
                            </td><td align="center">C</td><td rowspan="3" align="center">
                                <span class="underline">ksktag</span>

                                <span class="underline"></span>

                                <span class="underline"></span>
                            </td><td rowspan="3" align="center">2048</td><td rowspan="3" align="center">
                                <span class="underline">date</span>

                                <span class="underline"></span>

                                <span class="underline"></span>
                            </td><td rowspan="3" align="center">C</td><td rowspan="3" align="center">
                                <span class="underline">date</span>

                                <span class="underline"></span>

                                <span class="underline"></span>
                            </td></tr><tr><td align="center">
                                <span class="underline">zsktag-pub</span>
                            </td><td align="center">1024</td><td align="center">
                                <span class="underline">date</span>
                            </td><td align="center">P</td></tr><tr><td align="center">
                                <span class="underline">sktag-new</span>
                            </td><td align="center">1024</td><td align="center">
                                <span class="underline">date</span>
                            </td><td align="center">N</td></tr></tbody></table></div></div><br class="table-break"></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="step-rollover-zsk-emergency-published-2"></a>Modify the Zone File</h3></div></div></div><p>The zone file must be modified to account for the key
            changes. The Published ZSK must be deleted and the New ZSK must be
            added. Also, the SOA serial number must be incremented so that the
            zone file's new contents will be recognized.</p><p>The required key changes are made by modifying the <span class="bold"><strong>$INCLUDE</strong></span> lines at the end of the file. The
            <span class="bold"><strong>$INCLUDE</strong></span> line for the Published
            ZSK must be deleted. An <span class="bold"><strong>$INCLUDE</strong></span>
            line for the New ZSK must be added.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="step-rollover-zsk-emergency-published-3"></a>Sign the Zone with the KSK and Current ZSK Only</h3></div></div></div><p>Follow the steps in sections ??? - ??? if the zone does no
            delegation. Follow the steps in sections ??? - ??? if the zone
            does delegation. The ZSK used in the signing process in ??? or ???
            must be the key that is marked as the Current key (C) in the
            Key-Tag table. The KSK used as input to <span class="bold"><strong>dnssec-signzone</strong></span> does not change, so the
            keyset does not change and does not have to be re-sent to the
            parent.</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="step-rollover-zsk-emergency-published-4"></a>Reload the Zone</h3></div></div></div><p>The <span><strong class="command">rndc</strong></span> will reload the name server
            configuration files and the zone contents. The name server process
            is assumed to be already running.</p><table class="simplelist" border="0" summary="Simple list"><tr><td><span><strong class="command"># rndc reload zone-name</strong></span>
	            <strong class="userinput"><code>[ENTER]</code></strong>
		</td></tr><tr><td><span><strong class="command">#</strong></span></td></tr></table></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="step-rollover-zsk-emergency-published-5"></a>Update the Key-Tags Table</h3></div></div></div><p>Update the Key-Tags table to reflect the changed key status.
            Delete the old Published ZSK. Change the status of the New ZSK to
            Published.</p><div class="table"><a name="id966037"></a><p class="title"><b>Table 12.2. </b></p><div class="table-contents"><table border="1"><colgroup><col><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col align="center"><col></colgroup><tbody><tr><td rowspan="2" align="center">
                                <span class="bold"><strong>Zone</strong></span>
                            </td><td colspan="4" align="center">
                                <span class="bold"><strong>ZSKs</strong></span>
                            </td><td colspan="4" align="center">
                                <span class="bold"><strong>KSKs</strong></span>
                            </td><td rowspan="2" align="center">
                                <span class="bold"><strong>Exp</strong></span>
                            </td></tr><tr><td align="center">Tag</td><td align="center">Size</td><td align="center">Creat</td><td align="center">S</td><td align="center">Tag</td><td align="center">Size</td><td align="center">Creat</td><td align="center">S</td></tr><tr><td rowspan="5" align="center">
                                <span class="emphasis"><em>zone-name</em></span>

                                <span class="emphasis"><em></em></span>

                                <span class="emphasis"><em></em></span>
                            </td><td align="center">
                                <span class="underline">zsktag-cur</span>
                            </td><td align="center">1024</td><td align="center">
                                <span class="underline">date</span>
                            </td><td align="center">C</td><td rowspan="5" align="center">
                                <span class="underline">ksktag</span>

                                <span class="underline"></span>

                                <span class="underline"></span>
                            </td><td rowspan="5" align="center">2048</td><td rowspan="5" align="center">
                                <span class="underline">date</span>

                                <span class="underline"></span>

                                <span class="underline"></span>
                            </td><td rowspan="5" align="center">C</td><td rowspan="2" align="center">
                                <span class="underline">date</span>

                                <span class="underline"></span>
                            </td></tr><tr><td rowspan="2" align="center">
                                <span class="underline">zsktag-pub</span>
                            </td><td rowspan="2" align="center">1024</td><td rowspan="2" align="center">
                                <span class="underline">date</span>
                            </td><td rowspan="2" align="center">P</td></tr><tr><td align="center"> </td></tr><tr><td rowspan="2" align="center">
                                <span class="underline">zsktag-new</span>
                            </td><td rowspan="2" align="center">1024</td><td rowspan="2" align="center">
                                <span class="underline">date</span>
                            </td><td rowspan="2" align="center"><p>N</p><p>P</p></td><td align="center">
                                <span class="underline"></span>
                            </td></tr><tr><td align="center"> </td></tr></tbody></table></div></div><br class="table-break"></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="step-rollover-zsk-emergency-published-6"></a>Dispose of the Old Zone Key</h3></div></div></div><p>Delete the old ZSK's <span class="emphasis"><em>.private</em></span> and
            <span class="emphasis"><em>.key</em></span> files.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="step-emergency-zsk-published.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="step-emergency-zsk-published.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="step-emergency-zsk.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 12. Emergency ZSK Rollover (Published ZSK Compromise) </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 13. Emergency ZSK Rollover (Published and Current ZSK
    Compromise)</td></tr></table></div></body></html>
